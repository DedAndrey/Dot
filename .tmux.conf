# ~/.tmux.conf

# Set the default input delay to improve Vim performance
set -sg escape-time 1

# tell tmux to use 256 colour terminal
set -g default-terminal "screen-256color"

# Включение режима мыши (скролл, изменение размера панели, выбор панели и др.)
set -g mouse on
set -g history-limit 30000

# KEYS
set -g mode-keys vi
set -g status-keys vi

# Reload .tmux.conf with "r"
bind r source-file ~/.tmux.conf \; display "Config Reloaded!"

# Select panes with vi-style movements
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

set-option -g history-limit 50000

# Status position
set-option -g status-position top
# Basic status bar colors
set-option -g status-style bg=default,fg=white
# Left side of status bar
set-option -g status-left-length 40
set-option -g status-left "#S "
# Window status
set-option -g window-status-format "#I #W "
set-option -g window-status-current-format "#I #W "
set-option -g window-status-separator " "
set-option -g status-justify left
# Right side of status bar
set-option -g status-right-length 40
set-option -g status-right "#{prefix_highlight}"
# Pane border
#set-option -g pane-border-style bg=default,fg=brightblack
#set-option -g pane-active-border-style bg=default,fg=white
# Pane number indicator
#set-option -g display-panes-colour brightblack
#set-option -g display-panes-active-colour brightwhite
# Clock mode
#set-option -g clock-mode-colour white
#set-option -g clock-mode-style 24
# Message
set-option -g message-style bg=default,fg=default

# TMUX-plugins
# List of plugins
set -g @plugin 'tmux-plugins/tpm'

# Tmux sensible
set -g @plugin 'tmux-plugins/tmux-sensible'

# Tmux Resurrect
	# prefix + Ctrl-s - save
	# prefix + Ctrl-r - restore
set -g @plugin 'tmux-plugins/tmux-resurrect'
	# для vim
set -g @resurrect-strategy-vim 'session'
	# Восстановление содержимого панелей
set -g @resurrect-capture-pane-contents 'on'

# Tmux sessionist
set -g @plugin 'tmux-plugins/tmux-sessionist'
#	prefix + g - prompts for session name and switches to it.
#	prefix + C - prompt for creating a new session by name.
#	prefix + X - kill current session without detaching tmux.
#	prefix + S (shift + s) - switches to the last session.
#	prefix + @ - promote current pane into a new session.
#	prefix + t<secondary-key> - join currently marked pane (prefix + m) to current  session/window, and switch to it
	#	secondary-keys:
	#	h, -, ": join horizontally
	#	v, |, %: join vertically
	#	f, @: join full screen

# Tmux prefix highlight
set -g @plugin 'tmux-plugins/tmux-prefix-highlight'
set -g @prefix_highlight_show_copy_mode 'on'
set -g @prefix_highlight_show_sync_mode 'on'
set -g @prefix_highlight_empty_has_affixes 'on' # default is 'off'
set -g @prefix_highlight_prefix_prompt 'Wait'
set -g @prefix_highlight_copy_prompt 'Copy'
set -g @prefix_highlight_sync_prompt 'Sync'
set -g @prefix_highlight_empty_prompt 'Tmux'
set -g @prefix_highlight_output_prefix '< '
set -g @prefix_highlight_output_suffix ' >'

# Tmux Pain Control
set -g @plugin 'tmux-plugins/tmux-pain-control'
# Navigation
#	prefix + h and prefix + C-h		select pane on the left
#	prefix + j and prefix + C-j		select pane below the current one
#	prefix + k and prefix + C-k		select pane above
#	prefix + l and prefix + C-l		select pane on the right
# Resizing panes
#	prefix + shift + h		resize current pane 5 cells to the left
#	prefix + shift + j		resize 5 cells in the down direction
#	prefix + shift + k		resize 5 cells in the up direction
#	prefix + shift + l		resize 5 cells to the right
#	These mappings are repeatable.
# Splitting panes
#	prefix + |		split current pane horizontally
#	prefix + -		split current pane vertically
#	prefix + \		split current pane full width horizontally
#	prefix + _		split current pane full width vertically

# Tmux Logging
set -g @plugin 'tmux-plugins/tmux-logging'
#	prefix + shift + p			toggle (start/stop) logging in the current pane
#	prefix + alt + shift + p	save complete pane history to a file
#	prefix + alt + c			clear pane history

# Tmux Sidebar
set -g @plugin 'tmux-plugins/tmux-sidebar'
#	prefix + Tab - toggle sidebar with a directory tree
#	prefix + Backspace - toggle sidebar and move cursor to it (focus it)
# Requirements: tmux 1.9 or higher, tree recommended but not required

# Extrakto
set -g @plugin 'laktak/extrakto'
set -g @extrakto_key "enter"
set -g @extrakto_split_direction "a"
set -g @extrakto_split_size "7"
set -g @extrakto_popup_size "90%"
set -g @extrakto_popup_position "C"
set -g @extrakto_grab_area "full"
set -g @extrakto_clip_tool "auto"
set -g @extrakto_clip_tool_run "bg"
set -g @extrakto_fzf_tool "fzf"
set -g @extrakto_fzf_layout "default"
set -g @extrakto_open_tool "auto"
set -g @extrakto_copy_key "enter"
set -g @extrakto_insert_key "tab"
set -g @extrakto_filter_key "ctrl-f"
set -g @extrakto_grab_key "ctrl-g"
set -g @extrakto_edit_key "ctrl-e"
set -g @extrakto_open_key "ctrl-o"

# Vim-plugins
# Plugin 'tmux-plugins/vim-tmux-focus-events'
set -g focus-events on


run '~/.tmux/plugins/tpm/tpm'
